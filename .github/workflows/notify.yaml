name: Notify on Build Completion

on:
  workflow_run:
    matches:
      - workflow_dispatch  # Trigger on manual workflow dispatch
      - push:  # Trigger on push events
        branches: [ main, development ]  # Only on main and development branches


jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Notify on Build Completion
        uses: actions/github-script@v6
        with:
          script: |
            github.issues.createComment({
              issue_number: 0,
              owner: 'NadaKamel03',
              repo: context.repo.repo,
              body: 'The build workflow has completed! Status: ${{ job.status }}'
            })
